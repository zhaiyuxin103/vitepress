import{_ as s,o as a,c as n,S as l}from"./chunks/framework.8b0da900.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"tool/使用 phpMyAdmin 管理多台 MySQL 服务器.md","filePath":"tool/使用 phpMyAdmin 管理多台 MySQL 服务器.md","lastUpdated":1670809520000}'),p={name:"tool/使用 phpMyAdmin 管理多台 MySQL 服务器.md"},o=l(`<h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><p>默认安装的 <code>phpMyAdmin</code>，通常只能连接一台 <code>MySQL</code> 服务器，其配置信息是保存在 <code>phpMyAdmin</code> 的配置文件里的，当我们需要在多台服务器之间进行切换登陆的时候，修改起来非常麻烦。遵照下面的配置方法，我们可以方便的使用 <code>phpMyAdmin</code> 连接多台 <code>MySQL</code> 。</p><h2 id="方法一" tabindex="-1">方法一 <a class="header-anchor" href="#方法一" aria-label="Permalink to &quot;方法一&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">INFO</p><p>登陆 <code>phpMyAdmin</code> 时输入服务器 <code>ip</code> 地址、用户名、密码</p></div><h4 id="缺点" tabindex="-1">缺点 <a class="header-anchor" href="#缺点" aria-label="Permalink to &quot;缺点&quot;">​</a></h4><p>登陆操作比较繁琐，而且切换服务器时须先退出当前所登陆的服务器。</p><h4 id="步骤" tabindex="-1">步骤 <a class="header-anchor" href="#步骤" aria-label="Permalink to &quot;步骤&quot;">​</a></h4><ol><li><p>复制 <code>phpMyAdmin</code> 根目录下的 <code>config.sample.inc.php</code> 文件，重命名为 <code>config.inc.php</code>；</p></li><li><p>将 <code>$cfg[&#39;AllowArbitraryServer&#39;]</code> 的默认值 <code>false</code> 修改为 <code>true</code> 即可实现管理多台 <code>MySQL</code> 服务器;</p></li></ol><div class="language-php line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki github-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * allow login to any user entered server in cookie based authentication</span></span>
<span class="line"><span style="color:#6A737D;"> *</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@global</span><span style="color:#6A737D;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#6A737D;"> $cfg[‘AllowArbitraryServer’]</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#24292E;">$cfg[</span><span style="color:#032F62;">&#39;AllowArbitraryServer&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="方法二-推荐" tabindex="-1">方法二（推荐） <a class="header-anchor" href="#方法二-推荐" aria-label="Permalink to &quot;方法二（推荐）&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">INFO</p><p>登陆 <code>phpMyAdmin</code> 时只需输入用户名、密码，服务器地址为下拉列表可选，登陆后也可选择其他服务器快速切换；<br> 如果安全性要求不高，可以将 <code>auth_type</code> 设置为 <code>config</code>，不用输入用户名和密码，通过下拉框即可切换 <code>MySQL</code> 服务器</p></div><h4 id="优点" tabindex="-1">优点 <a class="header-anchor" href="#优点" aria-label="Permalink to &quot;优点&quot;">​</a></h4><p>登陆操作简便，登陆后切换服务器无须退出当前连接。</p><h4 id="步骤-1" tabindex="-1">步骤 <a class="header-anchor" href="#步骤-1" aria-label="Permalink to &quot;步骤&quot;">​</a></h4><ol><li><p>复制 <code>phpMyAdmin</code> 根目录下的 <code>config.sample.inc.php</code> 文件，重命名为 <code>config.inc.php</code>；</p></li><li><p>在文件中定义你的多台服务器配置信息：</p><div class="language-php line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki github-light"><code><span class="line"><span style="color:#24292E;">$hosts </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> [</span><span style="color:#032F62;">&#39;host&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;localhost&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;user&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;root&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;password&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;root&#39;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">2</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> [</span><span style="color:#032F62;">&#39;host&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;192.168.10.10&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;user&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;homestead&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;password&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;secret&#39;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>在加入以下代码片段，通过 <code>for</code> 循环来读取多台 <code>MySQL</code> 服务器配置信息</p><div class="language-php line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki github-light"><code><span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;">($i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">; $i </span><span style="color:#D73A49;">&lt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">count</span><span style="color:#24292E;">($hosts); $i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/* Authentication type */</span></span>
<span class="line"><span style="color:#24292E;">    $cfg[</span><span style="color:#032F62;">&#39;Servers&#39;</span><span style="color:#24292E;">][$i][</span><span style="color:#032F62;">&#39;auth_type&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;cookie&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/* Server parameters */</span></span>
<span class="line"><span style="color:#24292E;">    $cfg[</span><span style="color:#032F62;">&#39;Servers&#39;</span><span style="color:#24292E;">][$i][</span><span style="color:#032F62;">&#39;host&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> $hosts[$i][</span><span style="color:#032F62;">&#39;host&#39;</span><span style="color:#24292E;">];    </span><span style="color:#6A737D;">// 修改host</span></span>
<span class="line"><span style="color:#24292E;">    $cfg[</span><span style="color:#032F62;">&#39;Servers&#39;</span><span style="color:#24292E;">][$i][</span><span style="color:#032F62;">&#39;connect_type&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;tcp&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    $cfg[</span><span style="color:#032F62;">&#39;Servers&#39;</span><span style="color:#24292E;">][$i][</span><span style="color:#032F62;">&#39;compress&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/* Select mysqli if your server has it */</span></span>
<span class="line"><span style="color:#24292E;">    $cfg[</span><span style="color:#032F62;">&#39;Servers&#39;</span><span style="color:#24292E;">][$i][</span><span style="color:#032F62;">&#39;extension&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;mysql&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    $cfg[</span><span style="color:#032F62;">&#39;Servers&#39;</span><span style="color:#24292E;">][$i][</span><span style="color:#032F62;">&#39;AllowNoPassword&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    $cfg[</span><span style="color:#032F62;">&#39;Servers&#39;</span><span style="color:#24292E;">][$i][</span><span style="color:#032F62;">&#39;user&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> $hosts[$i][</span><span style="color:#032F62;">&#39;user&#39;</span><span style="color:#24292E;">];    </span><span style="color:#6A737D;">// 修改用户名</span></span>
<span class="line"><span style="color:#24292E;">    $cfg[</span><span style="color:#032F62;">&#39;Servers&#39;</span><span style="color:#24292E;">][$i][</span><span style="color:#032F62;">&#39;password&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> $hosts[$i][</span><span style="color:#032F62;">&#39;password&#39;</span><span style="color:#24292E;">];    </span><span style="color:#6A737D;">// 密码</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li><li><p>保存文件，重新登陆即可实现管理多台 <code>MySQL</code> 服务器。</p></li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>文章转载自：<a href="https://www.oicto.com/phpmyadmin-mysql-ip/" target="_blank" rel="noreferrer">配置 <code>phpMyAdmin</code> 使登录时可填写 <code>IP</code> 管理多台 <code>MySQL</code></a></p></div>`,16),e=[o];function c(r,t,i,y,d,h){return a(),n("div",null,e)}const E=s(p,[["render",c]]);export{u as __pageData,E as default};
